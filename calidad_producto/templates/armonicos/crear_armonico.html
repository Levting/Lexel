{% extends 'base.html' %}

{% block title %}Subir Armónico{% endblock %}


{% block content %}
  <body>
    <div class="container">
      <h1>Análisis de Armónicos</h1>
      <p>Por favor, cargue un archivo .xlsx para el análisis armónico.</p>

      {% if messages %}
        <div>
          {% for message in messages %}
            <div class="alert {% if message.tags == 'success' %}
                
              alert-success

              {% elif message.tags == 'error' %}
                
              alert-danger

              {% endif %}"
              role="alert">{{ message }}</div>
          {% endfor %}
        </div>
      {% endif %}

      <form action="{% url 'crear_armonico' %}" method="post" enctype="multipart/form-data">
        {% csrf_token %}
        {{ form.as_p }}
        <button type="submit" class="btn btn-primary">Subir Armónico</button>
      </form>
    </div>

    <script>
      // Desaparecer mensajes después de 5 segundos
      setTimeout(function () {
        var alerts = document.querySelectorAll('.alert')
        alerts.forEach(function (alert) {
          alert.style.transition = 'opacity 0.5s ease-out'
          alert.style.opacity = '0'
          setTimeout(function () {
            alert.remove()
          }, 500) // Tiempo adicional para la transición
        })
      }, 5000) // 5 segundos
    </script>
  </body>
{% endblock %}

{% comment %} <!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Subir Armónico</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" />
  </head>
</html> {% endcomment %}
